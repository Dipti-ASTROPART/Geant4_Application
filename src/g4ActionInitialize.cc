//////////////////////////////////////////////////////////////////////////////////////////
/// Class for user action initialization 
//////////////////////////////////////////////////////////////////////////////////////////
#include    "g4ActionInitialize.hh"

//////////////////////////////////////////////////////////////////////////////////////////
/// Constructor
//////////////////////////////////////////////////////////////////////////////////////////
MyActionInitialization::MyActionInitialization(ControlFile cnt)
{
    // Address the control file
    Control = cnt;

}   //  ::MyActionInitialization()


//////////////////////////////////////////////////////////////////////////////////////////
/// Destructor
//////////////////////////////////////////////////////////////////////////////////////////
MyActionInitialization::~MyActionInitialization()
{

}   //  ::MyActionInitialization()


//////////////////////////////////////////////////////////////////////////////////////////
/// Build for mastet
//////////////////////////////////////////////////////////////////////////////////////////
void    MyActionInitialization::BuildForMaster() const
{
    SetUserAction(new MyRunAction(Control));
}   //  ::BuildForMaster()


//////////////////////////////////////////////////////////////////////////////////////////
/// Build the primary generator
//////////////////////////////////////////////////////////////////////////////////////////
void    MyActionInitialization::Build() const
{

    // Invoke primary generator classes
    MyPrimaryGenerator *generator = new MyPrimaryGenerator(Control);
    SetUserAction(generator);

    // Invoke the Run action
    MyRunAction *runAction = new MyRunAction(Control);
    SetUserAction(runAction);

    // Invoke the Event action
    MyEventAction *eventAction = new MyEventAction(runAction);
    SetUserAction(eventAction);

    // Invoke the stepping action
    MySteppingAction *steppingAction = new MySteppingAction(eventAction);
    SetUserAction(steppingAction);
}


//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////

